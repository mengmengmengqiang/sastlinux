<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vim</title>
    <script src="../../js/jquery-3.1.1.slim.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <link href="../../css/bootstrap.css" rel="stylesheet" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">SAST-LINUX</a>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav" role="tablist">
                <li><a href="../../index.html">首页</a></li>
                <li class="active"><a href="../../courseslist.html">课程</a></li>
                <li><a href="../../resource.html">资源</a></li>
                <li><a href="../../about.html">关于</a></li>
                <li><a href="http://www.njuptsast.org/">SAST主页</a></li>
                <li><a href="https://wizardforcel.gitbooks.io/vbird-linux-basic-4e/content/index.html">鸟哥的linux私房菜</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <div class="row">
        <p>今天讲一讲vim</p>
        <p>你们可能已经听过它的名字了，很多人可能会觉得用它编程很厉害，它现在的地位好像也是和sublime还有vscode相提并论的</p>
        <p>但是vim能做的比它们多，因为命令行，你基本上只能用vim，nano功能太弱了。。</p>
        <p>历史什么的就让你们自己百度了，你们肯定会看到emacs这个编辑器，其实这个我们之中没有人试过，据说比vim强大一点，你们有兴趣可以去试试，顺便还可以学学lisp这门优秀的语言</p>
        <p><img src="joke2.jpg" class="img-responsive"></p>
        <p class="text-muted">vimtutor</p>
        <p>这是个命令，其实是vim的官方教程，</p>
        <p>而且这个教程本身可以用vim的操作，</p>
        <p>跟着教程走一遍就基本可以简单使用vim了，</p>
        <p><img src="tutor.png" class="img-responsive"></p>
        <p>其实还有中文的vimtutor,</p>
        <p>vimtutor zh</p>
        <p><img src="Selection_031.png" class="img-responsive"></p>
        <br/>
        <p>------------------</p>
        <p>首先，vim主要是在主键盘操作，</p>
        <p>也就是尽量不用方向键和小键盘那些，</p>
        <p><img src="keyboard.png" class="img-responsive"></p>
        <br/>
        <p>然后其实vim命令是很复杂的，</p>
        <p><img src="vim.png" class="img-responsive"> </p>
        <br/>
        <p>但不需要都掌握，</p>
        <p>一些基本的用顺手了，</p>
        <p>其他的能学多少是多少，</p>
        <br/>
        <p>------------------</p>
        <p>用vim打开文件,</p>
        <p>vim 文件名</p>
        <br/>
        <p>:q</p>
        <p>退出，</p>
        <p>:w</p>
        <p>保存，</p>
        <p>:e 文件名</p>
        <p>打开另一个文件，</p>
        <br/>
        <p>这三个加感叹号表示强制执行，:q!,:w!,</p>
        <br/>
        <br/>
        <p>下面也不打开什么文件了，就用vimtutor演示,</p>
        <br/>
        <p>+++在命令模式下+++</p>
        <p>/*</p>
        <p>之前说过，vim打开是会运行家目录下的.vimrc，</p>
        <p>也就是说下面的命令都可以写在.vimrc里，每次自动执行，</p>
        <p>*/</p>
        <p>下面这命令是设置不兼容vi，</p>
        <p>如果兼容vi的话会有很多vim命令用不了，</p>
        <p>:set nocompatible</p>
        <br/>
        <p>//所有命令者可以用 数字+命令 表示多次执行，如8j，</p>
        <br/>
        <p>:!ls</p>
        <p>冒号感叹号:!开头的可以执行shell的命令，</p>
        <br/>
        <p>首先是光标移动，</p>
        <p>hjkl,左下右上，</p>
        <p>四个在一排，比什么上下左右好用多了，</p>
        <p><img src="hjkl.png" class="img-responsive"> </p>
        <p>w,b,光标跳到下/上个单词，还有个e也是跳到行尾，</p>
        <p>$,^,光标跳到行尾/行首，还有个0也是跳到行首，</p>
        <p>C-u/C-d,上/下滚动半页，</p>
        <p>C-b/C-f,上/下滚动一页，</p>
        <p>C-e/C-y,上/下滚动一行，</p>
        <p>gg,瞬移到开头行，</p>
        <p>G,瞬移到最后行，</p>
        <p>数字G,瞬移到指定行，8G就是跳到第8行，</p>
        <p>zz,瞬移到屏幕中间，</p>
        <br/>
        <p>然后是删除，</p>
        <p>x，删除当前一个字符，</p>
        <p><img src="x.png" class="img-responsive"> </p>
        <p>dd,删除当前行，</p>
        <p>D,删除当前行里，光标后面的字符，</p>
        <br/>
        <p>然后是进入插入模式的命令,</p>
        <p><img src="i.png" class="img-responsive"> </p>
        <p>iao,这三种，加上大小写共6种，都试试效果，</p>
        <p>i,a,当前字符的前/后面插入，</p>
        <p>I,A,当前行的开头/结尾插入，</p>
        <p>o,O,下/上一行插入，</p>
        <br/>
        <p>+++插入模式+++</p>
        <p>进入了插入模式就可以写代码了，</p>
        <p>先说说退出到命令模式，</p>
        <p>除了左上角的Esc(escape)逃脱键表示返回，</p>
        <p>还可以用C-[输入Esc的值也能返回，</p>
        <p>还可以用C-c表示结束插入模式，</p>
        <p>我一般都是用C-[,</p>
        <p>还有临时退回命令模式，执行一条命令就返回插入模式的C-o，</p>
        <br/>
        <br/>
        <p>然后是删除，默认的backspace(退格键)和其他编辑器完全不同，</p>
        <p>vim的退格键只用来修改本次的插入，</p>
        <p>我用不惯，所以用下面的命令改成和别的一样，</p>
        <p>:set backspace=2</p>
        <p>真正的删除键(Delete)，删除后面一个字符，正常使用，</p>
        <br/>
        <p>------------------</p>
        <p>有了上面这些基本就能当成普通的编辑器使用了，</p>
        <p>而且是个不需要方向键不需要小键盘不需要鼠标的编辑器，</p>
        <p>但vim显然不止这样，所以继续讲点命令，</p>
        <br/>
        <p>帮助，</p>
        <p>:h,后面跟上要查的命令，</p>
        <p>但是并不好用，因为vim里面的命令太复杂，还分各种模式，</p>
        <p>而且命令模式还有些是冒号:开头的，总之不容易查到自己要的，</p>
        <p><img src="help.png" class="img-responsive"> </p>
        <p>顺便说说，冒号:开头有大多数命令都是有缩写的，h是help的缩写，</p>
        <br/>
        <p>搜索，</p>
        <p>/,?,向下/上搜索，后面跟上正则表达式，</p>
        <p>n,N,搜索下/上一个，循环搜索，</p>
        <p>*,#,在一个单词上搞这个表示向下/上搜索这个单词，</p>
        <br/>
        <p>替换，</p>
        <p>:%s/正则/替换/gi</p>
        <p>就是把上面的“正则”替换成“替换”，</p>
        <p>这里也可以用上正则，所以说正则相当重要，</p>
        <p>前面的%表示全文每行都替换，去掉只替换当前行，</p>
        <p>后面的g表示替换每个匹配的，去掉只替换行里第一次出现的，</p>
        <p>后面的i表示匹配时无视大小写，都是可以不要的，</p>
        <br/>
        <p>:set</p>
        <p>可以设置很多东西，直接:set可以看到当前的设置，</p>
        <p>:set ic</p>
        <p>搜索时无视大小写，加个no就取消:set noic</p>
        <p>:set fenc=utf-8</p>
        <p>设置文件编码，可以改成各种编码，</p>
        <p>:set fileencodings=ucs-bom,utf-8,cp936,ucs-bom,shift-jis,gb18030,gb2312,latin1</p>
        <p>这个要放在.vimrc才有用，是在打开文件时按这个顺序判断文件的编码，</p>
        <p>:set ff=unix</p>
        <p>改文件换行符的类型，dos,unix,mac,</p>
        <br/>
        <p>复制粘贴</p>
        <p>y,这个y是复制，后面跟上光标移动的命令，</p>
        <p>敲两下y是复制当前行，</p>
        <p>要配合下面说的选择才能比较准确的选择要复制的内容，</p>
        <p>p,P,粘贴，分别是在后面和前面粘贴，</p>
        <p><img src="copy.png" class="img-responsive"> </p>

        <br/>
        <br/>
        <p>u,撤销，</p>
        <p>ctrl-r是取消撤销，</p>
        <p><img src="undo.png" class="img-responsive" ></p>
        <p></p>
        <p>+++选择模式+++</p>
        <p>上面的一些操作，比如替换，删除之类的，可以只针对一部分，</p>
        <p>用v键进入选择模式,移动光标然后执行命令，</p>
        <p>如果执行的是冒号:开头的命令，会自动出现:'<,'>表示后面命令只对选择的这部分，</p>
        <p><img src="v.png" class="img-responsive"> </p>
        <p>还有shift-v是整行选择，</p>
        <p><img src="vline.png" class="img-responsive"> </p>
        <p>ctrl-v是矩形的选择，</p>
        <p><img src="vblock.png" class="img-responsive" ></p>
        <p>这些选择都是结合别的命令使用的，可以随便试试，</p>
        <br/>
        <p>---------------------</p>
        <p>剩下的时间主要自己操作一番，看看vimtutor,</p>
        <p>如果能喜欢上vim，就花个几天，几周来学习一下vim的命令，</p>
        <p></p>
        <p>还有vim的脚本语言，作为一个脚本语言是很强大的，</p>

        <p>还有可以用各种map，</p>
        <p>把一些组合键和F键设置成编译运行当前写的代码，</p>
        <p>虽然我并不喜欢这样，</p>

    </div>
</div>
